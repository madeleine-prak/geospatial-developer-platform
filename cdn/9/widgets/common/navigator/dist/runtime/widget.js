System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-core/react","jimu-theme"],(function(e,t){var o={},n={},i={},l={},a={},s={};return{setters:[function(e){o.BaseVersionManager=e.BaseVersionManager,o.Immutable=e.Immutable,o.LayoutItemType=e.LayoutItemType,o.LayoutType=e.LayoutType,o.LinkType=e.LinkType,o.React=e.React,o.ReactRedux=e.ReactRedux,o.appActions=e.appActions,o.css=e.css,o.getAppStore=e.getAppStore,o.getIndexFromProgress=e.getIndexFromProgress,o.hooks=e.hooks,o.jimuHistory=e.jimuHistory,o.jsx=e.jsx,o.lodash=e.lodash,o.polished=e.polished,o.utils=e.utils},function(e){n.NavButtonGroup=e.NavButtonGroup,n.Navigation=e.Navigation,n.PageNumber=e.PageNumber,n.Slider=e.Slider,n.TextAlignValue=e.TextAlignValue,n.WidgetPlaceholder=e.WidgetPlaceholder,n.componentStyleUtils=e.componentStyleUtils,n.defaultMessages=e.defaultMessages,n.styleUtils=e.styleUtils,n.utils=e.utils},function(e){i.searchUtils=e.searchUtils},function(e){l.getAppConfigAction=e.getAppConfigAction},function(e){a.default=e.default},function(e){s.useTheme=e.useTheme}],execute:function(){e((()=>{var e={4175:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M1.25 2.5h17.5v11.25H1.25V2.5ZM0 2.5c0-.69.56-1.25 1.25-1.25h17.5c.69 0 1.25.56 1.25 1.25v11.25c0 .69-.56 1.25-1.25 1.25H1.25C.56 15 0 14.44 0 13.75V2.5Zm3.75 16.25h2.5V17.5h-2.5v1.25Zm7.5 0h-2.5V17.5h2.5v1.25Zm2.5 0h2.5V17.5h-2.5v1.25Z" clip-rule="evenodd"></path></svg>'},9553:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><g fill="none" fill-rule="evenodd"><path fill="#000" d="M2.479 5.47 8.019.162a.592.592 0 0 1 .813 0 .534.534 0 0 1 0 .779L3.552 6l5.28 5.06a.534.534 0 0 1 0 .779.592.592 0 0 1-.813 0l-5.54-5.31a.726.726 0 0 1 0-1.058Z"></path><path d="M0 0h12v12H0z"></path></g></svg>'},91116:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"><g fill="none" fill-rule="evenodd"><path fill="#000" d="M9.521 5.47 3.981.162a.592.592 0 0 0-.813 0 .534.534 0 0 0 0 .779L8.448 6l-5.28 5.06a.534.534 0 0 0 0 .779.592.592 0 0 0 .813 0l5.54-5.31a.726.726 0 0 0 0-1.058Z"></path><path d="M0 0h12v12H0z"></path></g></svg>'},63503:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6"><circle cx="1104" cy="1049" r="3" fill="#000" fill-rule="nonzero" transform="translate(-1101 -1046)"></circle></svg>'},86444:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="nonzero" d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2Zm0-1h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2Zm6 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6ZM3.16 7l1.7 1.686a.474.474 0 0 1 0 .674.483.483 0 0 1-.68 0L2.14 7.337a.474.474 0 0 1 0-.674L4.18 4.64a.483.483 0 0 1 .68 0 .474.474 0 0 1 0 .674L3.16 7Zm9.68 0-1.7-1.686a.474.474 0 0 1 0-.674.483.483 0 0 1 .68 0l2.04 2.023a.474.474 0 0 1 0 .674L11.82 9.36a.483.483 0 0 1-.68 0 .474.474 0 0 1 0-.674L12.84 7ZM5.4 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6Zm5.2 0a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6Z"></path></svg>'},48891:e=>{"use strict";e.exports=o},51315:e=>{"use strict";e.exports=a},23137:e=>{"use strict";e.exports=l},74758:e=>{"use strict";e.exports=i},34796:e=>{"use strict";e.exports=s},30726:e=>{"use strict";e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var u={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(u),r.d(u,{__set_webpack_public_path__:()=>$,default:()=>H});var e,t=r(48891);!function(e){e.Auto="AUTO",e.Custom="CUSTOM"}(e||(e={}));var o=r(30726);const n={_widgetLabel:"Views Navigation",widgetPlaceholder:"Please add a Section to use this widget.",tabDefault:"Tab default",tabUnderline:"Tab underline",tabPills:"Tab pills",arrow1:"Arrow 1",arrow2:"Arrow 2",arrow3:"Arrow 3"},i=r(86444),l=e=>{const{widgetId:l,show:a}=e,s=t.hooks.useTranslation(n);return a?t.React.createElement(o.WidgetPlaceholder,{icon:i,widgetId:l,message:s("widgetPlaceholder")}):null};var a,s,d,v=r(74758),c=r(23137);!function(e){e[e.BringForward=0]="BringForward",e[e.SendBackward=1]="SendBackward",e[e.BringToFront=2]="BringToFront",e[e.SendToBack=3]="SendToBack"}(a||(a={})),function(e){e.Auto="auto",e[e.Normal=0]="Normal",e[e.BoundaryDropArea=10]="BoundaryDropArea",e[e.DragMoveTip=20]="DragMoveTip",e[e.HandlerTools=30]="HandlerTools",e[e.DraggingItem=40]="DraggingItem"}(s||(s={})),function(e){e.Auto="AUTO",e.Stretch="STRETCH",e.Custom="CUSTOM"}(d||(d={}));var p=r(51315);const g=r(9553),h=r(91116);var f=r(4175),m=r.n(f),w=r(34796);const{useEffect:y,useMemo:x,useCallback:S}=t.React,{useSelector:b,useDispatch:I}=t.ReactRedux,T=r(63503),C=(e,t)=>(100*e+100*t)/100,A=(e,o,n=(0,t.Immutable)([]))=>{const i=(0,t.getIndexFromProgress)(e,n.length);return(0,t.Immutable)({visibleViews:o}).set("previousViewId",n[i.previousIndex]).set("currentViewId",n[i.currentIndex]).set("useProgress",!0).set("progress",e)},R=e=>(0,t.Immutable)(e).merge({item:{hover:{fontWeight:"400"},active:{fontWeight:"400"},disabled:{fontWeight:"400"}}},{deep:!0});const P=t.css`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
`,M=e=>{const{data:n,progress:i=0,type:l,navStyle:a,vertical:s,advanced:r,variant:u,onChange:d,activeView:v,standard:c,paginationFontColor:p}=e,g=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["data","progress","type","navStyle","vertical","advanced","variant","onChange","activeView","standard","paginationFontColor"]),{current:h,totalPage:f,showPageNumber:m,scrollable:y,disablePrevious:S,disableNext:b,previousText:I,previousIcon:T,nextText:C,nextIcon:A,showIcon:M,gap:B,alternateIcon:j,activedIcon:V,showText:N,showTitle:k,iconPosition:L,textAlign:O,hideThumb:U}=c||{},E=t.React.useRef((()=>0));t.React.useEffect((()=>(E.current=t.lodash.throttle((e=>{let t=+e.target.value;t=Number((t/100).toFixed(2)),null==d||d("slider",t)}),100),()=>{E.current.cancel()})),[d]);const H=t.React.useCallback((e=>v===(e=>{if(!(null==e?void 0:e.value))return"";const t=e.value.split(",");return(null==t?void 0:t.length)?t[1]:""})(e)),[v]),$=((e,n,i,l,a,s)=>x((()=>{var r,u,d;if(!i||!l)return t.css``;const v=null===(d=null===(u=null===(r=(0,t.getAppStore)())||void 0===r?void 0:r.getState())||void 0===u?void 0:u.appContext)||void 0===d?void 0:d.isRTL;return"nav"===e?((e,n,i,l)=>t.css`
    .jimu-nav{
      ${o.componentStyleUtils.nav.getRootStyles(null==n?void 0:n.root)};
      ${o.componentStyleUtils.nav.getVariantStyles(e,R(n),i,l)};
      ${o.styleUtils.getButtonStyleByState(null==n?void 0:n.item,!0)}
    }
`)(n,l,a,v):"navButtonGroup"===e?(e=>t.css`
    .nav-button-group {
      ${o.componentStyleUtils.navButtonGroup.getVariantStyles(R(e))};
      ${o.styleUtils.getButtonStyleByState(null==e?void 0:e.item,!1)}
    }
 `)(l):"slider"===e?((e,n,i)=>t.css`
   > .jimu-slider {
    ${o.componentStyleUtils.slider.getRootStyles(null==e?void 0:e.root)};
    ${o.componentStyleUtils.slider.getVariantStyles(e,n,i)};
   }
 `)(l,s,v):t.css``}),[i,e,n,l,a,s]))(l,a,r,u,s,U),D=(e=>{var o;const n=(0,w.useTheme)();return x((()=>{var o;return t.css`
      ${"slider"===e&&t.css`padding: 0.625rem 0.25rem;`}
      .nav-button-group >.direction-button {
        &:focus,
        &:focus-visible {
          outline-offset: -${null===(o=null==n?void 0:n.focusedStyles)||void 0===o?void 0:o.offset};
        }
      }
    `}),[null===(o=null==n?void 0:n.focusedStyles)||void 0===o?void 0:o.offset,e])})(l);return(0,t.jsx)("div",Object.assign({className:"navigation",css:[P,$,D]},g),"nav"===l&&(0,t.jsx)(o.Navigation,{role:"tablist",vertical:s,isActive:H,scrollable:y,data:n,gap:B,type:a,showIcon:M,alternateIcon:j,activedIcon:V,showText:N,showTitle:k||N,isUseNativeTitle:!0,iconPosition:L,navLinkRole:"button",textAlign:O}),"slider"===l&&(0,t.jsx)(o.Slider,{className:"h-100",size:"sm",value:100*i,hideThumb:U,onChange:e=>{var t;null===(t=e.persist)||void 0===t||t.call(e),E.current(e)}}),"navButtonGroup"===l&&(0,t.jsx)(o.NavButtonGroup,{type:a,previousText:I,previousIcon:T,nextText:C,nextIcon:A,vertical:s,disablePrevious:S,disableNext:b,onChange:e=>{null==d||d("navButtonGroup",e)}},m&&(0,t.jsx)(o.PageNumber,{current:h,totalPage:f,css:p?t.css`color: ${p}`:t.css``})))},B={data:{type:"AUTO",section:"",views:[]},display:{advanced:!1,vertical:!1,navType:"default",alignment:"center",showText:!0,showIcon:!1,iconPosition:"start"}};class j extends t.BaseVersionManager{constructor(){super(...arguments),this.versions=[{version:"1.0.0",description:"Version manager for release 1.0.0",upgrader:e=>{var t;if(!e)return B;let o=e;return(null===(t=null==e?void 0:e.display)||void 0===t?void 0:t.variants)&&(o=o.setIn(["display","advanced"],!0)),o}},{version:"1.1.0",description:"Version manager for release 1.1.0",upgrader:e=>(e=>{const o=e;if(!e)return;const n=o.display;if(!n)return e;let i=(0,t.Immutable)({});const l=((e,t)=>{if(!e)return;const o=null==e?void 0:e[t];if(!o)return;let n=o;return o.bg&&(n=n.setIn(["root","bg"],o.bg),n=n.without("bg")),n})(n.variants,n.navType);return i=i.set("type","nav").set("vertical",n.vertical).set("advanced",n.advanced).set("navStyle",n.navType).set("standard",{scrollable:!0,textAlign:n.alignment,showText:n.showText,showIcon:n.showIcon,iconPosition:n.iconPosition}).set("variant",l),o.set("display",i)})(e||B)}]}}const V=new j,{useRef:N,useEffect:k,useState:L}=t.React,{useSelector:O,useDispatch:U}=t.ReactRedux,E=i=>{var a,s,r,u,f;const{id:w,config:R,builderSupportModules:P,onInitDragHandler:B,onInitResizeHandler:j}=i,V=U(),E=null===(a=null==P?void 0:P.jimuForBuilderLib)||void 0===a?void 0:a.getAppConfigAction,H=N(null),{current:$}=N(null===(r=null===(s=(0,t.getAppStore)().getState())||void 0===s?void 0:s.appContext)||void 0===r?void 0:r.isInBuilder),D=O((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.widgetsState)||void 0===t?void 0:t[w])||void 0===o?void 0:o.showQuickStyle})),W=O((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.widgetsState)||void 0===t?void 0:t[w])||void 0===o?void 0:o.hasEverMount})),Z=(e=>{const i=t.hooks.useTranslation(o.defaultMessages,n),[l,a]=(()=>{const e=t.hooks.useTranslation(o.defaultMessages);return p.default.useMemo((()=>[o.utils.toIconResult(g,e("arrowLeft12"),12),o.utils.toIconResult(h,e("arrowRight12"),12)]),[e])})(),s=o.utils.toIconResult(T,i("drawToolDot"),8);return x((()=>{if(e)return[{label:i("tabDefault"),type:"nav",navStyle:"default",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("tabUnderline"),type:"nav",navStyle:"underline",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("tabPills"),type:"nav",navStyle:"pills",standard:{gap:"0px",scrollable:!0,showIcon:!1,showText:!0,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("symbol"),type:"nav",navStyle:"default",standard:{scrollable:!1,gap:"10px",showIcon:!0,alternateIcon:s,activedIcon:s,showText:!1,iconPosition:"start",textAlign:o.TextAlignValue.CENTER}},{label:i("slider"),type:"slider",navStyle:"default"},{label:i("arrow1"),type:"navButtonGroup",navStyle:"default",standard:{showPageNumber:!0,previousText:"",previousIcon:l,nextText:"",nextIcon:a}},{label:i("arrow2"),type:"navButtonGroup",navStyle:"tertiary",standard:{previousText:i("prev"),previousIcon:l,nextText:i("next"),nextIcon:a}},{label:i("arrow3"),type:"navButtonGroup",navStyle:"tertiary",standard:{showPageNumber:!0,previousText:"",previousIcon:l,nextText:"",nextIcon:a}}]}),[e,i,s,l,a])})($),_=null==R?void 0:R.display,F=null==R?void 0:R.data,G=null==_?void 0:_.standard,z=null==F?void 0:F.type,Q=null==F?void 0:F.section,q=null!==(u=null==G?void 0:G.step)&&void 0!==u?u:1,[J,K]=L(!1),X=O((e=>{var t,o,n,i;return null===(i=null===(n=null===(o=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections)||void 0===o?void 0:o[Q])||void 0===n?void 0:n.views)||void 0===i?void 0:i[0]})),Y=O((e=>{var t,o;return null===(o=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.sectionNavInfos)||void 0===o?void 0:o[Q]})),ee=((o,n,i)=>{const l=b((e=>{var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections)||void 0===n?void 0:n[o])||void 0===i?void 0:i.views}));return t.React.useMemo((()=>{const o=((i===e.Custom?n:l)||(0,t.Immutable)([])).asMutable();return o.sort(((e,t)=>(null==l?void 0:l.indexOf(e))-(null==l?void 0:l.indexOf(t)))),(0,t.Immutable)(o)}),[n,l,i])})(Q,null==F?void 0:F.views,z),te=((e,n)=>{const i=b((e=>e.appConfig.views)),l=b((e=>{const t=e.appConfig.pages,o=Object.keys(t).find((e=>{var o;return null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.isDefault}));return e.appRuntimeInfo.currentPageId||o}));return t.React.useMemo((()=>{var a;return null!==(a=null==e?void 0:e.map((e=>{var a,s,r,u;const d=null===(a=null==i?void 0:i[e])||void 0===a?void 0:a.label,v=(null===(s=null==i?void 0:i[e])||void 0===s?void 0:s.icon)||o.utils.toIconResult(m(),"",16);return{name:d,linkType:t.LinkType.View,value:`${l},${e}`,icon:"nav"!==(null==n?void 0:n.type)||(null===(r=null==n?void 0:n.standard)||void 0===r?void 0:r.showText)?v:void 0,navLinkAriaControls:`${null===(u=null==i?void 0:i[e])||void 0===u?void 0:u.parent}_${e}`}})))&&void 0!==a?a:(0,t.Immutable)([])}),[n,l,i,e])})(ee,_),oe=null==Y?void 0:Y.progress,ne=null==Y?void 0:Y.useProgress,ie=null!==(f=null==Y?void 0:Y.currentViewId)&&void 0!==f?f:X,le=(ae=null==_?void 0:_.vertical,x((()=>t.css`
      overflow: hidden;
      min-height: ${ae?t.polished.rem(16):"unset"};
      min-width: ${ae?"unset":t.polished.rem(16)};
      max-width: 100vw;
      max-height: 100vh;
    `),[ae]));var ae;const se=t.React.useMemo((()=>{const e=((e,t,o,n)=>{var i,l;let a,s;const r=null!==(i=null==n?void 0:n.length)&&void 0!==i?i:0;let u=(null==n?void 0:n.includes(e))?null==n?void 0:n.indexOf(e):0;if(u+=1,o){let e=0;const o=null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0;if(o>1){e=t*(o-1);const n=e%1;e=Math.floor(e),a=0===e&&0===n,s=e===r-1&&0===n}}else a=u<=1,s=u===r;return{current:u,totalPage:r,disableNext:s,disablePrevious:a}})(ie,oe,ne,ee);return Object.assign(Object.assign({},G),e)}),[ie,oe,G,ne,ee]),re=t.React.useCallback((()=>{V(t.appActions.widgetStatePropChange(w,"showQuickStyle",!1))}),[V,w]);(e=>{const o=I(),n=b((o=>t.utils.isWidgetSelected(e,o)?o.appRuntimeInfo.appMode:null));t.hooks.useUpdateEffect((()=>{o(t.appActions.widgetStatePropChange(e,"showQuickStyle",!1))}),[n,e])})(w),(e=>{const o=t.hooks.useWidgetSelected(e),n=I();t.hooks.useUpdateEffect((()=>{o||n(t.appActions.widgetStatePropChange(e,"showQuickStyle",!1))}),[o,e])})(w),((e,o)=>{const n=t.hooks.useWidgetSelected(e),i=I();y((()=>{n&&!o&&(i(t.appActions.widgetStatePropChange(e,"showQuickStyle",!0)),i(t.appActions.widgetStatePropChange(e,"hasEverMount",!0)))}),[])})(w,W);const ue=((e,o)=>S((n=>{var i;const l=(0,t.getAppStore)().getState().appConfig.widgets[e].config,a=null===(i=null==l?void 0:l.data)||void 0===i?void 0:i.section;if(!(null==n?void 0:n.includes(a))){if(!a&&!(null==n?void 0:n[0]))return;o().editWidgetProperty(e,"config",l.setIn(["data","section"],null==n?void 0:n[0])).exec(!1)}}),[o,e]))(w,E);((e,o)=>{const n=(e=>{const o=t.ReactRedux.useSelector((e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.layouts})),n=t.ReactRedux.useSelector((e=>{var t;return null===(t=null==e?void 0:e.appConfig)||void 0===t?void 0:t.sections})),i=t.ReactRedux.useSelector((e=>null==e?void 0:e.browserSizeMode)),l=t.ReactRedux.useSelector((e=>null==e?void 0:e.appConfig.mainSizeMode));return t.React.useMemo((()=>{const o=(0,t.getAppStore)().getState().appConfig,n=v.searchUtils.getContentsInTheSameContainer(o,e,t.LayoutItemType.Widget,t.LayoutItemType.Section,i);return n&&n.length>0?n:v.searchUtils.getContentsInTheSameContainer(o,e,t.LayoutItemType.Widget,t.LayoutItemType.Section,l)||[]}),[e,i,n,o])})(e),i=t.hooks.useLatest(o),{current:l}=t.React.useRef((0,t.getAppStore)().getState().appContext.isInBuilder);y((()=>{var e;l&&(null===(e=i.current)||void 0===e||e.call(i,n))}),[n,l,i])})(w,ue);const de=((o,n)=>S((i=>{var l,a,s,r,u,d;const v=(0,t.getAppStore)().getState().appConfig.widgets[o].config,c=(null===(l=null==v?void 0:v.data)||void 0===l?void 0:l.type)===e.Custom?null===(s=null===(a=null==v?void 0:v.data)||void 0===a?void 0:a.views)||void 0===s?void 0:s.filter((e=>null==i?void 0:i.includes(e))):i;((null==c?void 0:c.length)||(null===(u=null===(r=null==v?void 0:v.data)||void 0===r?void 0:r.views)||void 0===u?void 0:u.length))&&(t.lodash.isDeepEqual(c,null===(d=null==v?void 0:v.data)||void 0===d?void 0:d.views)||n().editWidgetProperty(o,"config",v.setIn(["data","views"],c)).exec(!1))}),[n,o]))(w,E);((e,o)=>{const n=b((t=>{var o,n,i;return null===(i=null===(n=null===(o=null==t?void 0:t.appConfig)||void 0===o?void 0:o.sections)||void 0===n?void 0:n[e])||void 0===i?void 0:i.views})),{current:i}=t.React.useRef((0,t.getAppStore)().getState().appContext.isInBuilder),l=t.hooks.useLatest(o);y((()=>{var e;i&&(null===(e=l.current)||void 0===e||e.call(l,n))}),[n,l,i])})(Q,de);const ve=(e=>{const o=I();return S(((n,i)=>{var l,a,s,r,u,d,v,c,p,g,h,f,m;const w=null===(l=(0,t.getAppStore)())||void 0===l?void 0:l.getState(),y=null===(s=null===(a=w.appConfig.sections)||void 0===a?void 0:a[e])||void 0===s?void 0:s.views,x=null===(u=null===(r=null==w?void 0:w.appRuntimeInfo)||void 0===r?void 0:r.sectionNavInfos)||void 0===u?void 0:u[e],S=(null==x?void 0:x.currentViewId)||y[0],b=(null==x?void 0:x.visibleViews)||y,I=null!==(d=null==x?void 0:x.progress)&&void 0!==d?d:0;let T=null;if((null===(p=null===(c=null===(v=w.appConfig)||void 0===v?void 0:v.sections)||void 0===c?void 0:c[e])||void 0===p?void 0:p.transition)&&"None"!==(null===(m=null===(f=null===(h=null===(g=w.appConfig)||void 0===g?void 0:g.sections)||void 0===h?void 0:h[e])||void 0===f?void 0:f.transition)||void 0===m?void 0:m.type)||(i=Math.ceil(i)),1===i)T=((e,o,n,i=(0,t.Immutable)([]))=>{let l=i.indexOf(o);l=-1===l?0:l;const a=i[e?Math.max(0,l-1):Math.min(i.length-1,l+1)];return(0,t.Immutable)({visibleViews:n}).set("previousViewId",o).set("currentViewId",a).set("useProgress",!1).set("progress",i.indexOf(a)/(i.length-1))})(n,S,y,b);else{const e=n?Math.max(C(I,-i/(y.length-1)),0):Math.min(C(I,i/(y.length-1)),1);T=A(e,y,b)}o(t.appActions.sectionNavInfoChanged(e,T)),t.jimuHistory.changeViewBySectionNavInfo(e,T)}),[o,e])})(Q),ce=(e=>{const o=I();return S((n=>{var i,l,a,s,r,u;const d=null===(i=(0,t.getAppStore)())||void 0===i?void 0:i.getState(),v=null===(a=null===(l=d.appConfig.sections)||void 0===l?void 0:l[e])||void 0===a?void 0:a.views,c=null===(u=null===(r=null===(s=d.appRuntimeInfo)||void 0===s?void 0:s.sectionNavInfos)||void 0===r?void 0:r[e])||void 0===u?void 0:u.visibleViews,p=A(n,v,c);o(t.appActions.sectionNavInfoChanged(e,p))}),[o,e])})(Q),pe=t.hooks.useEventCallback(((e,t)=>{"navButtonGroup"===e?ve(t,q):"slider"===e&&ce(t)}));k((()=>{J||K(!0)}),[]);const ge=null==P?void 0:P.widgetModules.NavQuickStyle;return(0,t.jsx)("div",{className:"widget-view-navigation jimu-widget",css:le,ref:H},(0,t.jsx)(l,{widgetId:w,show:!te.length}),(0,t.jsx)(M,Object.assign({data:te,activeView:ie,progress:oe,onChange:pe},_,{standard:se})),J&&ge&&(0,t.jsx)(ge,{templates:Z,display:null==R?void 0:R.display,onChange:o=>{if(!E)return;const n=(0,t.Immutable)(o).set("vertical",!1).set("advanced",!1).set("variant",null);E().editWidgetProperty(w,"config",R.setIn(["data","type"],e.Auto).set("display",n)).exec(),(e=>{var o,n,i;let l;const a=(0,t.getAppStore)().getState();l=window.jimuConfig.isBuilder?null==a?void 0:a.appStateInBuilder:a;const s=null===(o=null==l?void 0:l.appRuntimeInfo)||void 0===o?void 0:o.selection,r=null===(n=l.appConfig.layouts)||void 0===n?void 0:n[null==s?void 0:s.layoutId];if(r&&(null==r?void 0:r.type)===t.LayoutType.FixedLayout){const t="nav"===(null==e?void 0:e.type)&&(null===(i=null==e?void 0:e.standard)||void 0===i?void 0:i.showText),o=null==e?void 0:e.vertical;(0,c.getAppConfigAction)().editLayoutItemSize(s,o?60:380,o?380:60).exec(),(0,c.getAppConfigAction)().editLayoutItemSetting(s,{autoProps:{width:t||o?d.Auto:d.Custom,height:t||!o?d.Auto:d.Custom}}).exec()}})(o)},onClose:re,open:D,reference:H.current,onInitDragHandler:B,onInitResizeHandler:j}))};E.versionManager=V;const H=E;function $(e){r.p=e}})(),u})())}}}));